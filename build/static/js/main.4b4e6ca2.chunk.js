(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,a){},27:function(e,t,a){e.exports=a.p+"static/media/homeImage.d65a8552.png"},33:function(e,t,a){e.exports=a(48)},38:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var r=a(1),c=a.n(r),n=a(15),i=a.n(n),h=(a(38),a(7)),l=a(8),o=a(12),u=a(11),s=a(13),m=(a(26),a(27)),p=a.n(m),d=a(3),E=a(49),f=a(52),v=a(28),g=new(function(){function e(){Object(h.a)(this,e),this.auth0=new v.a.WebAuth({domain:"gordianknots.auth0.com",audience:"https://gordianknots.auth0.com/userinfo",clientID:"xttiqiRrvR8maE7DT603buK6oQzU4Sgd",redirectUri:"http://localhost:3000/callback",responseType:"id_token",scope:"openid profile"}),this.getProfile=this.getProfile.bind(this),this.handleAuthentication=this.handleAuthentication.bind(this),this.isAuthenticated=this.isAuthenticated.bind(this),this.signIn=this.signIn.bind(this),this.signOut=this.signOut.bind(this)}return Object(l.a)(e,[{key:"getProfile",value:function(){return this.profile}},{key:"getIdToken",value:function(){return this.idToken}},{key:"isAuthenticated",value:function(){return(new Date).getTime()<this.expiresAt}},{key:"signIn",value:function(){this.auth0.authorize()}},{key:"handleAuthentication",value:function(){var e=this;return new Promise(function(t,a){e.auth0.parseHash(function(r,c){return r?a(r):c&&c.idToken?(e.idToken=c.idToken,e.profile=c.idTokenPayload,e.expiresAt=1e3*c.idTokenPayload.exp,void t()):a(r)})})}},{key:"signOut",value:function(){this.idToken=null,this.profile=null,this.expiresAt=null}}]),e}());var b=Object(f.a)(function(e){return c.a.createElement("nav",{className:"navbar navbar-dark bg-dark fixed-top"},c.a.createElement(d.l,{nav:!0,inNavbar:!0},c.a.createElement(d.f,{nav:!0,caret:!0},"Menu"),c.a.createElement(d.e,{left:!0},c.a.createElement(d.d,{tag:E.a,to:"/"},"Home"),c.a.createElement(d.d,{divider:!0}),c.a.createElement(d.d,{tag:E.a,to:"/character"},"Manage Characters"),c.a.createElement(d.d,{divider:!0}),c.a.createElement(d.d,{divider:!0}),c.a.createElement(d.d,{tag:"a",href:"https://github.com/stuvwxyz/character-ui"},"GitHub UI"),c.a.createElement(d.d,{tag:"a",href:"https://github.com/stuvwxyz/character-api"},"GitHub API"))),!g.isAuthenticated()&&c.a.createElement("button",{className:"btn btn-dark",onClick:g.signIn},"Sign In"),g.isAuthenticated()&&c.a.createElement("div",null,c.a.createElement("label",{className:"mr-2 text-white"},g.getProfile().name),c.a.createElement("button",{className:"btn btn-dark",onClick:function(){g.signOut(),e.history.replace("/")}},"Sign Out")))}),y=function(e){function t(){return Object(h.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(b,null),c.a.createElement("div",{className:"App"},c.a.createElement("header",{className:"App-header"},c.a.createElement("img",{src:p.a,className:"App-logo",alt:"homeImage"}),c.a.createElement("p",null,"Begin your adventure"),c.a.createElement(d.c,{fluid:!0},c.a.createElement(d.a,{color:"link"},c.a.createElement(E.a,{to:"/character"},"Manage Characters"))))))}}]),t}(r.Component),j=a(51),k=a(53),O=a(50),C=a(5),A=a.n(C),w=a(32),x=a(14),N=a(6),S=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={character:[],isLoading:!0},a.remove=a.remove.bind(Object(N.a)(Object(N.a)(a))),a}return Object(s.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("/api/character").then(function(e){return e.json()}).then(function(t){return e.setState({character:t,isLoading:!1})})}},{key:"remove",value:function(){var e=Object(x.a)(A.a.mark(function e(t){var a=this;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/character/".concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){var e=Object(w.a)(a.state.character).filter(function(e){return e.id!==t});a.setState({character:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;if(!g.isAuthenticated())return null;var t=this.state,a=t.character;if(t.isLoading)return c.a.createElement("p",null,"Loading...");var r=a.map(function(t){return c.a.createElement("tr",{key:t.id},c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.characterName),c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.characterAge),c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.characterGender),c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.characterRace),c.a.createElement("td",{style:{whiteSpace:"wrap"}},t.characterDescription),c.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.characterAlive),c.a.createElement("td",null,c.a.createElement(d.b,{className:"float-right"},c.a.createElement(d.a,{size:"sm",color:"success",tag:E.a,to:"/character/"+t.characterId},"Details"),c.a.createElement(d.a,{size:"sm",color:"primary",tag:E.a,to:"/characteredit/"+t.characterId},"Edit"),c.a.createElement(d.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.characterId)}},"Delete"))))});return c.a.createElement("div",null,c.a.createElement(b,null),c.a.createElement(d.c,{fluid:!0},c.a.createElement("div",{className:"float-right"},c.a.createElement(d.a,{color:"success",tag:E.a,to:"/characteredit/new"},"Add Character")),c.a.createElement("h3",null,"Character List"),c.a.createElement(d.k,{className:"mt-4"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{width:"15%"},"Name"),c.a.createElement("th",{width:"20%"},"Age"),c.a.createElement("th",{width:"20%"},"Gender"),c.a.createElement("th",{width:"20%"},"Race"),c.a.createElement("th",{width:"20%"},"Physical Description"),c.a.createElement("th",{width:"20%"},"Alive"),c.a.createElement("th",{width:"10%"},"Actions"))),c.a.createElement("tbody",null,r))))}}]),t}(r.Component),D=Object(f.a)(S),P=a(21),I=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).emptyItem={characterId:"",characterName:"",characterAge:"",characterGender:"",characterRace:"",characterDescription:"",characterPurpose:"",characterBackground:"",characterNotes:"",characterAlive:""},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(N.a)(Object(N.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(N.a)(Object(N.a)(a))),a}return Object(s.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(x.a)(A.a.mark(function e(){var t;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=7;break}return e.next=3,fetch("/api/character/".concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:t=e.sent,this.setState({item:t});case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target,a=t.value,r=t.name,c=Object(P.a)({},this.state.item);c[r]=a,this.setState({item:c})}},{key:"handleSubmit",value:function(){var e=Object(x.a)(A.a.mark(function e(t){var a,r;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(this.state),a=this.state.item,r=a.characterId,console.log(r),e.next=7,fetch("/api/character/".concat(r),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 7:this.props.history.push("/character");case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(!g.isAuthenticated())return null;var e=this.state.item,t=c.a.createElement("h2",null,"View Character");return c.a.createElement("div",null,c.a.createElement(b,null),c.a.createElement(d.c,null,t,c.a.createElement(d.g,{onSubmit:this.handleSubmit},c.a.createElement(d.h,null,c.a.createElement(d.j,{for:"characterName"},"characterName"),c.a.createElement(d.i,{type:"text",name:"characterName",id:"characterName",value:e.characterName||"",autoComplete:"characterName"}),c.a.createElement(d.j,{for:"characterAge"},"characterAge"),c.a.createElement(d.i,{type:"text",name:"characterAge",id:"characterAge",value:e.characterAge||"",autoComplete:"characterAge"}),c.a.createElement(d.j,{for:"characterGender"},"characterGender"),c.a.createElement(d.i,{type:"text",name:"characterGender",id:"characterGender",value:e.characterGender||"",autoComplete:"characterGender"}),c.a.createElement(d.j,{for:"characterRace"},"characterRace"),c.a.createElement(d.i,{type:"text",name:"characterRace",id:"characterRace",value:e.characterRace||"",autoComplete:"characterRace"}),c.a.createElement(d.j,{for:"characterDescription"},"characterDescription"),c.a.createElement(d.i,{type:"text",name:"characterDescription",id:"characterDescription",value:e.characterDescription||"",autoComplete:"characterDescription"}),c.a.createElement(d.j,{for:"characterPurpose"},"characterPurpose"),c.a.createElement(d.i,{type:"text",name:"characterPurpose",id:"characterPurpose",value:e.characterPurpose||"",autoComplete:"characterPurpose"}),c.a.createElement(d.j,{for:"characterBackground"},"characterBackground"),c.a.createElement(d.i,{type:"text",name:"characterBackground",id:"characterBackground",value:e.characterBackground||"",autoComplete:"characterBackground"}),c.a.createElement(d.j,{for:"characterNotes"},"characterNotes"),c.a.createElement(d.i,{type:"text",name:"characterNotes",id:"characterNotes",value:e.characterNotes||"",autoComplete:"characterNotes"}),c.a.createElement(d.j,{for:"characterAlive"},"characterAlive"),c.a.createElement(d.i,{type:"text",name:"characterAlive",id:"characterAlive",value:e.characterAlive||"",autoComplete:"characterAlive "})),c.a.createElement(d.h,null,c.a.createElement(d.a,{color:"success",tag:E.a,to:"/character"},"Return")))))}}]),t}(r.Component),G=Object(f.a)(I),R=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).emptyItem={characterId:"",characterName:"",characterAge:"",characterGender:"",characterRace:"",characterDescription:"",characterPurpose:"",characterBackground:"",characterNotes:"",characterAlive:""},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(N.a)(Object(N.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(N.a)(Object(N.a)(a))),a}return Object(s.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(x.a)(A.a.mark(function e(){var t;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=7;break}return e.next=3,fetch("/api/character/".concat(this.props.match.params.id));case 3:return e.next=5,e.sent.json();case 5:t=e.sent,this.setState({item:t});case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target,a=t.value,r=t.name,c=Object(P.a)({},this.state.item);c[r]=a,this.setState({item:c})}},{key:"handleSubmit",value:function(){var e=Object(x.a)(A.a.mark(function e(t){var a;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=this.state.item,e.next=4,fetch("/api/character",{method:a.id?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});case 4:this.props.history.push("/character");case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(!g.isAuthenticated())return null;var e=this.state.item,t=c.a.createElement("h2",null,e.id?"Edit Character":"Add Character");return c.a.createElement("div",null,c.a.createElement(b,null),c.a.createElement(d.c,null,t,c.a.createElement(d.g,{onSubmit:this.handleSubmit},c.a.createElement(d.h,null,c.a.createElement(d.j,{for:"characterName"},"characterName"),c.a.createElement(d.i,{type:"text",name:"characterName",id:"characterName",value:e.characterName||"",onChange:this.handleChange,autoComplete:"characterName"})),c.a.createElement(d.h,null,c.a.createElement(d.j,{for:"characterAge"},"characterAge"),c.a.createElement(d.i,{type:"text",name:"characterAge",id:"characterAge",value:e.characterAge||"",onChange:this.handleChange,autoComplete:"characterAge"})),c.a.createElement(d.h,null,c.a.createElement(d.j,{for:"characterGender"},"characterGender"),c.a.createElement(d.i,{type:"text",name:"characterGender",id:"characterGender",value:e.characterGender||"",onChange:this.handleChange,autoComplete:"characterGender"})),c.a.createElement(d.h,null,c.a.createElement(d.j,{for:"characterRace"},"characterRace"),c.a.createElement(d.i,{type:"text",name:"characterRace",id:"characterRace",value:e.characterRace||"",onChange:this.handleChange,autoComplete:"characterRace"})),c.a.createElement(d.h,null,c.a.createElement(d.j,{for:"characterDescription"},"characterDescription"),c.a.createElement(d.i,{type:"text",name:"characterDescription",id:"characterDescription",value:e.characterDescription||"",onChange:this.handleChange,autoComplete:"characterDescription"})),c.a.createElement(d.h,null,c.a.createElement(d.j,{for:"characterPurpose"},"characterPurpose"),c.a.createElement(d.i,{type:"text",name:"characterPurpose",id:"characterPurpose",value:e.characterPurpose||"",onChange:this.handleChange,autoComplete:"characterPurpose"})),c.a.createElement(d.h,null,c.a.createElement(d.j,{for:"characterBackground"},"characterBackground"),c.a.createElement(d.i,{type:"text",name:"characterBackground",id:"characterBackground",value:e.characterBackground||"",onChange:this.handleChange,autoComplete:"characterBackground"})),c.a.createElement(d.h,null,c.a.createElement(d.j,{for:"characterNotes"},"characterNotes"),c.a.createElement(d.i,{type:"text",name:"characterNotes",id:"characterNotes",value:e.characterNotes||"",onChange:this.handleChange,autoComplete:"characterNotes"})),c.a.createElement(d.h,null,c.a.createElement(d.j,{for:"characterAlive"},"characterAlive"),c.a.createElement(d.i,{type:"text",name:"characterAlive",id:"characterAlive",value:e.characterAlive||"",onChange:this.handleChange,autoComplete:"characterAlive"})),c.a.createElement(d.h,null,c.a.createElement(d.a,{color:"primary",type:"submit"},"Save")," ",c.a.createElement(d.a,{color:"secondary",tag:E.a,to:"/character"},"Cancel")))))}}]),t}(r.Component),T=Object(f.a)(R),B=function(e){function t(){return Object(h.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(x.a)(A.a.mark(function e(){return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.handleAuthentication();case 2:this.props.history.replace("/");case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return c.a.createElement("p",null,"Loading profile...")}}]),t}(r.Component),L=Object(f.a)(B);var z=function(e){var t=e.component,a=e.path;return c.a.createElement(O.a,{path:a,render:function(){return g.isAuthenticated()?c.a.createElement(t,null):(g.signIn(),c.a.createElement("div",null))}})},M=function(e){function t(){return Object(h.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement(j.a,null,c.a.createElement(k.a,null,c.a.createElement(O.a,{path:"/",exact:!0,component:y}),c.a.createElement(z,{path:"/character",component:D}),c.a.createElement(z,{path:"/character/:id",component:G}),c.a.createElement(z,{path:"/characteredit/:id",component:T}),c.a.createElement(O.a,{exact:!0,path:"/callback",component:L})))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(46);i.a.render(c.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[33,2,1]]]);
//# sourceMappingURL=main.4b4e6ca2.chunk.js.map